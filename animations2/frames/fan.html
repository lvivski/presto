<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title>Fan</title>
  <style>
  body {
    line-height: 1.5;
    overflow: hidden;
  }
  #fan {
    width:309px;
    height:309px;
    background:transparent url(data:image/png;base64,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) no-repeat;
    margin:50px auto;
    -webkit-transform-origin: 150px 162px;
    }

  #controls {
    margin:25px auto;
    width:309px;
    }
  input[type=range] {
    -webkit-appearance: none;
    height: 1px;
    background: #666;
    width:250px;
    vertical-align: middle;
  }
  </style>
  <script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function () {
      var fan = document.getElementById("fan");
          power = document.getElementById("power"),
          speed = document.getElementById("speed"),
          raf = false,
          onframe = window.webkitRequestAnimationFrame || window.RequestAnimationFrame,
          speedValue = 0,
          degrees = 0;
          
      onframe(function render() {
        if (speedValue) {
          degrees = (degrees + speedValue) % 360;
          fan.setAttribute("style","-webkit-transform:rotateZ(" + degrees + "deg)");
        }
        if (raf) onframe(render);
        else setTimeout(render, 1000 / 60);
      });
          
      power.addEventListener("change", function (e) {
        if (e.target.checked) {
          speedValue = parseInt(speed.value);
        } else {
          speedValue = 0;
        }
      }, false);
      
      document.getElementById("raf").addEventListener("change", function (e) {
        if (e.target.checked) {
          raf = true;
        } else {
          raf = false;
        }
      }, false);
      
      speed.addEventListener("change", function (e) {
        speedValue = parseInt(e.target.value);
      }, false);
    }, false);
  </script>
</head>
<body>
  <div id="fan"></div>
  <div id="controls">
    <label><input type="checkbox" name="power" id="power"> On/Off</label><br>
    <label><input type="checkbox" name="raf" id="raf"> requestAnimationFrame</label><br>
    <lavel>Speed <input type="range" id="speed" name="speed" min="1" max="100" step="1" value="25"/></label>
  </div>
</body>
</html>